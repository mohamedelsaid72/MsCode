<template>
  <div class="project-card-container">
    <div class="project-title">
      <span class="blue">{{ props.project.name }}</span>
      <span class="gray">// {{ props.project.preDescription }}</span>
    </div>
    <div class="project-card">
      <div class="project-image">
        <img
          :src="require('@/assets/images/' + props.project.img)"
          :alt="props.project.name"
        />
        <div class="category-icons-container">
          <div
            v-for="category in project.category"
            :key="category"
            class="category-icon"
          >
            <svg
              v-if="category === 'vue.js'"
              width="28"
              height="29"
              viewBox="0 0 28 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect y="0.255005" width="28" height="28" rx="2" fill="#81D5AF" />
              <g clip-path="url(#clip0_33_233)">
                <path
                  d="M4.63086 6.16347H8.03782L14 16.3843L19.9622 6.16347H23.3691L14 22.3465L4.63086 6.16347ZM12.0129 6.16347L14 9.57043L15.9871 6.16347H19.4239L14 15.5326L8.57612 6.16347H12.0129Z"
                  fill="#011221"
                />
              </g>
              <defs>
                <clipPath id="clip0_33_233">
                  <rect
                    width="20.4418"
                    height="20.4418"
                    fill="white"
                    transform="translate(3.77911 4.03412)"
                  />
                </clipPath>
              </defs>
            </svg>
            <svg
              v-if="category === 'css'"
              width="28"
              height="29"
              viewBox="0 0 28 28"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect y="0.255005" width="28" height="28" rx="2" fill="#95D6F0" />
              <g clip-path="url(#clip0_33_249)">
                <path
                  d="M8.03781 6.58934L7.48418 9.43415H19.0593L18.6846 11.2739H7.11793L6.55578 14.1102H18.1309L17.4836 17.3553L12.8161 18.897L8.7703 17.3553L9.05138 15.9585H6.20657L5.53369 19.3654L12.2199 21.9207L19.9281 19.3654L20.9502 14.2294L21.1546 13.1988L22.4663 6.58934H8.03781Z"
                  fill="#011221"
                />
              </g>
              <defs>
                <clipPath id="clip0_33_249">
                  <rect
                    width="20.4418"
                    height="20.4418"
                    fill="white"
                    transform="translate(3.77911 4.03412)"
                  />
                </clipPath>
              </defs>
            </svg>
            <svg
              v-if="category === 'javaScript'"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              width="18.81px"
              height="18.81px"
            >
              <path
                d="M13.3344 16.055 12.4764 17.243C13.2904 17.969 14.3024 18.332 15.5124 18.332 16.4364 18.31 17.1404 18.0717 17.6244 17.617 18.1157 17.155 18.3614 16.605 18.3614 15.967 18.3614 15.3437 18.1891 14.8303 17.8444 14.427 17.4997 14.0237 16.9204 13.701 16.1064 13.459 15.4317 13.2537 14.9551 13.0667 14.6764 12.898 14.3977 12.722 14.2584 12.5093 14.2584 12.26 14.2584 12.0327 14.3721 11.8493 14.5994 11.71 14.8267 11.5707 15.1311 11.501 15.5124 11.501 15.7911 11.501 16.1064 11.556 16.4584 11.666 16.8104 11.7613 17.1221 11.9153 17.3934 12.128L18.1634 10.929C17.4887 10.3863 16.5941 10.115 15.4794 10.115 14.6801 10.115 14.0237 10.3203 13.5104 10.731 12.9824 11.1417 12.7184 11.6513 12.7184 12.26 12.7257 12.9053 12.9384 13.4077 13.3564 13.767 13.7817 14.1263 14.3867 14.4197 15.1714 14.647 15.8241 14.8523 16.2677 15.0577 16.5024 15.263 16.7297 15.4683 16.8434 15.7177 16.8434 16.011 16.8434 16.297 16.7297 16.517 16.5024 16.671 16.2677 16.8323 15.9304 16.913 15.4904 16.913 14.7717 16.9203 14.0531 16.6343 13.3344 16.055ZM7.80405 16.693C7.58405 16.561 7.37872 16.3667 7.18805 16.11L6.15405 16.957C6.46205 17.4777 6.84339 17.8407 7.29805 18.046 7.72339 18.2367 8.21105 18.332 8.76105 18.332 9.06172 18.332 9.37339 18.2843 9.69605 18.189 10.0187 18.0937 10.3157 17.9323 10.5871 17.705 11.0637 17.3237 11.3131 16.7003 11.3351 15.835V10.247H9.85005V15.549C9.85005 16.055 9.73639 16.4107 9.50905 16.616 9.28172 16.814 8.99572 16.913 8.65105 16.913 8.32105 16.913 8.03872 16.8397 7.80405 16.693ZM3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6Z"
              ></path>
            </svg>
            <svg
              v-if="category === 'html'"
              width="28"
              height="29"
              viewBox="0 0 28 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect y="0.255005" width="28" height="28" rx="2" fill="#FFA67E" />
              <g clip-path="url(#clip0_33_146)">
                <path
                  d="M14 19.517L17.9351 18.4473L18.4657 12.6742H11.4669L11.2932 10.7543H18.6403L18.8336 8.87115H9.16639L9.70809 14.5591H16.3687L16.1464 17.0002L14 17.5683L11.8536 17.0002L11.7191 15.4295H9.7856L10.0658 18.4481L14 19.517ZM6.33435 5.73759H21.6657L20.2833 21.0689L14 22.7724L7.71672 21.0689L6.33435 5.73759Z"
                  fill="#011221"
                />
              </g>
              <defs>
                <clipPath id="clip0_33_146">
                  <rect
                    width="20.4418"
                    height="20.4418"
                    fill="white"
                    transform="translate(3.77911 4.03412)"
                  />
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>
      </div>
      <div class="project-body">
        <div class="project-description gray">
          {{ shortenText(props.project.fullDescription) }}
        </div>

        <div class="links-container">
          <a
            target="_blank"
            v-if="props.project.url"
            class="view-project"
            :href="props.project.url"
            >view-project</a
          >
          <a
            target="_blank"
            class="view-code"
            :href="props.project.github"
            v-if="props.project.github"
          >
            <svg
              width="52"
              height="49"
              viewBox="0 0 52 49"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_72_1328)">
                <path
                  d="M26 14.5C20.475 14.5 16 18.975 16 24.5C15.9989 26.5993 16.6588 28.6456 17.8862 30.3487C19.1136 32.0517 20.8461 33.3251 22.838 33.988C23.338 34.075 23.525 33.775 23.525 33.512C23.525 33.275 23.512 32.488 23.512 31.65C21 32.113 20.35 31.038 20.15 30.475C20.037 30.187 19.55 29.3 19.125 29.062C18.775 28.875 18.275 28.412 19.112 28.4C19.9 28.387 20.462 29.125 20.65 29.425C21.55 30.937 22.988 30.512 23.562 30.25C23.65 29.6 23.912 29.163 24.2 28.913C21.975 28.663 19.65 27.8 19.65 23.975C19.65 22.887 20.037 21.988 20.675 21.287C20.575 21.037 20.225 20.012 20.775 18.637C20.775 18.637 21.612 18.375 23.525 19.663C24.3391 19.4371 25.1802 19.3233 26.025 19.325C26.875 19.325 27.725 19.437 28.525 19.662C30.437 18.362 31.275 18.638 31.275 18.638C31.825 20.013 31.475 21.038 31.375 21.288C32.012 21.988 32.4 22.875 32.4 23.975C32.4 27.813 30.063 28.663 27.838 28.913C28.2 29.225 28.513 29.825 28.513 30.763C28.513 32.1 28.5 33.175 28.5 33.513C28.5 33.775 28.688 34.087 29.188 33.987C31.173 33.3168 32.8979 32.041 34.1199 30.3392C35.3419 28.6373 35.9994 26.5951 36 24.5C36 18.975 31.525 14.5 26 14.5Z"
                  fill="#607B96"
                />
              </g>
              <defs>
                <clipPath id="clip0_72_1328">
                  <rect
                    width="24"
                    height="24"
                    fill="white"
                    transform="translate(14 12.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { defineProps } from "vue";

const props = defineProps({
  project: {
    type: Object,
  },
});

const shortenText = (text) => {
  if (text.length > 80) {
    return text.slice(0, 80) + "...";
  }
  return text;
};
</script>
